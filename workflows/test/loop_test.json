{
  "workflow_name": "loop_test",
  "workflow_version": "1.0.0",
  "category": "test",
  "description": "Test workflow with loop support and max_iterations",

  "phases": [
    {
      "phase": "TEST",
      "description": "Test loop functionality",
      "steps": [
        {
          "step": 1,
          "type": "user_ask",
          "prompt": "Enter a number (must be >= 5):",
          "save_to": "user_number",
          "next_step": 2
        },
        {
          "step": 2,
          "type": "decide",
          "condition": "context.user_number.length >= 1",
          "if_true": 3,
          "if_false": 1
        },
        {
          "step": 3,
          "type": "display",
          "message": "You entered: {user_number}",
          "next_step": 4
        },
        {
          "step": 4,
          "type": "user_choose",
          "prompt": "Do you want to try again?",
          "options": [
            {
              "label": "Yes, enter another number",
              "value": "retry",
              "next_step": 1
            },
            {
              "label": "No, exit",
              "value": "exit",
              "next_step": "EXIT"
            }
          ],
          "max_iterations": 3
        }
      ]
    }
  ]
}
